# AI-powered samples.

[GitHub Pages](https://masamitsu-murase.github.io/ai_powered/)

## math game1

* [math_game1.html](./math_game1.html)  
  足し算・引き算ゲーム  
  [オフライン版](data:text/html;charset=utf-8;base64,PCFkb2N0eXBlIGh0bWw+CjxodG1sIGxhbmc9ImphIj4KPGhlYWQ+CiAgPG1ldGEgY2hhcnNldD0idXRmLTgiIC8+CiAgPG1ldGEgbmFtZT0idmlld3BvcnQiIGNvbnRlbnQ9IndpZHRoPWRldmljZS13aWR0aCxpbml0aWFsLXNjYWxlPTEuMCxtYXhpbXVtLXNjYWxlPTEuMCx1c2VyLXNjYWxhYmxlPW5vIiAvPgogIDx0aXRsZT7ml6nmirzjgZfoqIjnrpfjgrLjg7zjg6A8L3RpdGxlPgogIDxzdHlsZT4KICAgIDpyb290eyAtLWJnOiMwZjE3MmE7IC0tcGFuZWw6IzBiMTIyMDsgLS1hY2NlbnQ6IzA2ZjsgLS1vazojMTZhMzRhOyAtLWJhZDojZWY0NDQ0OyAtLXRleHQ6I2U2ZWVmOCB9CiAgICBodG1sLGJvZHl7aGVpZ2h0OjEwMCU7bWFyZ2luOjA7Zm9udC1mYW1pbHk6c3lzdGVtLXVpLC1hcHBsZS1zeXN0ZW0sU2Vnb2UgVUksUm9ib3RvLCdIaXJhZ2lubyBLYWt1IEdvdGhpYyBQcm9OJyxNZWlyeW8sc2Fucy1zZXJpZjtiYWNrZ3JvdW5kOmxpbmVhci1ncmFkaWVudCgxODBkZWcsIzA3MTEyNCAwJSwgIzA5MjAzNiAxMDAlKTtjb2xvcjp2YXIoLS10ZXh0KX0KICAgIC53cmFwe2hlaWdodDoxMDAlO2Rpc3BsYXk6ZmxleDtmbGV4LWRpcmVjdGlvbjpjb2x1bW59CiAgICBoZWFkZXJ7cGFkZGluZzo4cHggMTJweDtkaXNwbGF5OmZsZXg7YWxpZ24taXRlbXM6Y2VudGVyO2p1c3RpZnktY29udGVudDpzcGFjZS1iZXR3ZWVuO2dhcDoxMnB4fQogICAgaGVhZGVyIGgxe2ZvbnQtc2l6ZToxcmVtO21hcmdpbjowfQogICAgLmNvbnRyb2xze2Rpc3BsYXk6ZmxleDtnYXA6OHB4O2FsaWduLWl0ZW1zOmNlbnRlcn0KICAgIC5jb250cm9scyBpbnB1dFt0eXBlPW51bWJlcl17d2lkdGg6NzZweDtwYWRkaW5nOjZweDtib3JkZXItcmFkaXVzOjhweDtib3JkZXI6bm9uZTtiYWNrZ3JvdW5kOiMwNzE4Mjc7Y29sb3I6dmFyKC0tdGV4dCk7dGV4dC1hbGlnbjpjZW50ZXJ9CiAgICAuY29udHJvbHMgYnV0dG9ue3BhZGRpbmc6OHB4IDEycHg7Ym9yZGVyLXJhZGl1czo4cHg7Ym9yZGVyOm5vbmU7YmFja2dyb3VuZDp2YXIoLS1hY2NlbnQpO2NvbG9yOiMwMDE7Zm9udC13ZWlnaHQ6NjAwfQoKICAgIG1haW57ZmxleDoxO2Rpc3BsYXk6ZmxleDthbGlnbi1pdGVtczpzdHJldGNofQogICAgLnNpZGV7ZmxleDoxO2Rpc3BsYXk6ZmxleDtmbGV4LWRpcmVjdGlvbjpjb2x1bW47YWxpZ24taXRlbXM6c3RyZXRjaDtwYWRkaW5nOjEycHg7Ym94LXNpemluZzpib3JkZXItYm94fQogICAgLmxlZnR7Ym9yZGVyLXJpZ2h0OjRweCBzb2xpZCByZ2JhKDI1NSwyNTUsMjU1LDAuMDMpfQogICAgLnJpZ2h0e2JvcmRlci1sZWZ0OjRweCBzb2xpZCByZ2JhKDI1NSwyNTUsMjU1LDAuMDMpfQoKICAgIC5wbGF5ZXJIZWFkZXJ7ZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6c3BhY2UtYmV0d2VlbjtwYWRkaW5nOjZweCA4cHg7Ym9yZGVyLXJhZGl1czoxMHB4O2JhY2tncm91bmQ6cmdiYSgyNTUsMjU1LDI1NSwwLjAyKTttYXJnaW4tYm90dG9tOjhweH0KICAgIC5wbGF5ZXJIZWFkZXIgLm5hbWV7Zm9udC1zaXplOjEuMXJlbTtmb250LXdlaWdodDo3MDB9CiAgICAuc2NvcmV7Zm9udC1zaXplOjEuMnJlbTtmb250LXdlaWdodDo4MDB9CgogICAgLnF1ZXN0aW9uQXJlYXtmbGV4OjE7ZGlzcGxheTpmbGV4O2ZsZXgtZGlyZWN0aW9uOmNvbHVtbjthbGlnbi1pdGVtczpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcjtnYXA6MTBweH0KICAgIC5xdWVzdGlvbkNhcmR7YmFja2dyb3VuZDpsaW5lYXItZ3JhZGllbnQoMTgwZGVnLCByZ2JhKDI1NSwyNTUsMjU1LDAuMDMpLCByZ2JhKDI1NSwyNTUsMjU1LDAuMDEpKTtwYWRkaW5nOjZweDtib3JkZXItcmFkaXVzOjE0cHg7bWluLXdpZHRoOjI2MHB4O3RleHQtYWxpZ246Y2VudGVyO2JveC1zaGFkb3c6MCA2cHggMThweCByZ2JhKDAsMCwwLDAuNDUpfQogICAgLnF1ZXN0aW9ue2ZvbnQtc2l6ZToyLjZyZW07Zm9udC13ZWlnaHQ6OTAwfQogICAgLnN1Yntmb250LXNpemU6MC45cmVtO29wYWNpdHk6MC44fQoKICAgIC5idXR0b25zR3JpZHtkaXNwbGF5OmdyaWQ7Z3JpZC10ZW1wbGF0ZS1jb2x1bW5zOnJlcGVhdCg1LDFmcik7Z2FwOjhweDttYXJnaW4tdG9wOjE0cHh9CiAgICAuYW5zQnRue3BhZGRpbmc6OHB4O2JvcmRlci1yYWRpdXM6MTBweDtib3JkZXI6M3B4IHNvbGlkIHRyYW5zcGFyZW50O2ZvbnQtc2l6ZToxLjFyZW07Zm9udC13ZWlnaHQ6NzAwO3RvdWNoLWFjdGlvbjptYW5pcHVsYXRpb247YmFja2dyb3VuZDojMDcxODI3O2NvbG9yOnZhcigtLXRleHQpO2JveC1zaGFkb3c6MCA2cHggMTJweCByZ2JhKDAsMCwwLDAuNSl9CiAgICAuYW5zQnRuOmFjdGl2ZXt0cmFuc2Zvcm06dHJhbnNsYXRlWSgxcHgpfQoKICAgIGZvb3RlcntwYWRkaW5nOjhweCAxMnB4O2Rpc3BsYXk6ZmxleDtnYXA6MTJweDthbGlnbi1pdGVtczpjZW50ZXI7anVzdGlmeS1jb250ZW50OnNwYWNlLWJldHdlZW59CgogICAgLndpbkNhcmQgc2VsZWN0IG9wdGlvbiB7CiAgICAgIGZvbnQtc2l6ZTogMXJlbTsKICAgICAgcGFkZGluZzogNHB4OwogICAgfQoKICAgIC8qIGxhcmdlIHRvdWNoIHRhcmdldHMgZm9yIHRhYmxldCAqLwogICAgQG1lZGlhIChtaW4td2lkdGg6OTAwcHgpewogICAgICAucXVlc3Rpb257Zm9udC1zaXplOjRyZW19CiAgICAgIC5hbnNCdG57cGFkZGluZzoxOHB4O2ZvbnQtc2l6ZToxLjNyZW19CiAgICAgIC5idXR0b25zR3JpZHtncmlkLXRlbXBsYXRlLWNvbHVtbnM6cmVwZWF0KDUsMWZyKX0KICAgIH0KICAgIC53aW5uZXJPdmVybGF5e3Bvc2l0aW9uOmFic29sdXRlO2luc2V0OjA7ZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO2JhY2tncm91bmQ6bGluZWFyLWdyYWRpZW50KDE4MGRlZywgcmdiYSgyLDYsMjMsMC43NSksIHJnYmEoMiw2LDIzLDAuODgpKTt6LWluZGV4OjQwfQogICAgLndpbkNhcmR7cGFkZGluZzoyMHB4O2JvcmRlci1yYWRpdXM6MTRweDtiYWNrZ3JvdW5kOiMwMjEwMjY7Y29sb3I6dmFyKC0tdGV4dCk7dGV4dC1hbGlnbjpjZW50ZXI7Ym94LXNoYWRvdzowIDEycHggNDBweCByZ2JhKDAsMCwwLDAuNil9CiAgICAuc21hbGx7Zm9udC1zaXplOjAuOXJlbTtvcGFjaXR5OjAuOX0KICAgIC5oaWRkZW57ZGlzcGxheTpub25lfQogIDwvc3R5bGU+CjwvaGVhZD4KPGJvZHk+CiAgPGRpdiBjbGFzcz0id3JhcCI+CiAgICA8bWFpbj4KICAgICAgPHNlY3Rpb24gY2xhc3M9InNpZGUgbGVmdCIgaWQ9ImxlZnRTaWRlIj4KICAgICAgICA8ZGl2IGNsYXNzPSJwbGF5ZXJIZWFkZXIiPgogICAgICAgICAgPGRpdiBjbGFzcz0ibmFtZSI+44Gy44Gg44KKPC9kaXY+CiAgICAgICAgICA8ZGl2IGNsYXNzPSJzY29yZSIgaWQ9InNjb3JlTCI+MDwvZGl2PgogICAgICAgIDwvZGl2PgogICAgICAgIDxkaXYgY2xhc3M9InF1ZXN0aW9uQXJlYSI+CiAgICAgICAgICA8ZGl2IGNsYXNzPSJxdWVzdGlvbkNhcmQiPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJxdWVzdGlvbiIgaWQ9InF1ZXN0aW9uIj4tLTwvZGl2PgogICAgICAgICAgPC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICAgICAgPGRpdj4KICAgICAgICAgIDxkaXYgY2xhc3M9ImJ1dHRvbnNHcmlkIiBpZD0iYnV0dG9uc0wiPjwvZGl2PgogICAgICAgIDwvZGl2PgogICAgICA8L3NlY3Rpb24+CgogICAgICA8c2VjdGlvbiBjbGFzcz0ic2lkZSByaWdodCIgaWQ9InJpZ2h0U2lkZSI+CiAgICAgICAgPGRpdiBjbGFzcz0icGxheWVySGVhZGVyIj4KICAgICAgICAgIDxkaXYgY2xhc3M9Im5hbWUiPuOBv+OBjjwvZGl2PgogICAgICAgICAgPGRpdiBjbGFzcz0ic2NvcmUiIGlkPSJzY29yZVIiPjA8L2Rpdj4KICAgICAgICA8L2Rpdj4KICAgICAgICA8ZGl2IGNsYXNzPSJxdWVzdGlvbkFyZWEiPgogICAgICAgICAgPGRpdiBjbGFzcz0icXVlc3Rpb25DYXJkIj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0icXVlc3Rpb24iIGlkPSJxdWVzdGlvbk1pcnJvciI+LS08L2Rpdj4KICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgogICAgICAgIDxkaXY+CiAgICAgICAgICA8ZGl2IGNsYXNzPSJidXR0b25zR3JpZCIgaWQ9ImJ1dHRvbnNSIj48L2Rpdj4KICAgICAgICA8L2Rpdj4KICAgICAgPC9zZWN0aW9uPgogICAgPC9tYWluPgoKICAgIDxmb290ZXI+CiAgICAgIDxkaXYgaWQ9InByb2dyZXNzIj4wIC8gMDwvZGl2PgogICAgICA8ZGl2IGlkPSJzdGF0dXMiPua6luWCmeWujOS6hj8g44K544K/44O844OI44KS5oq844GX44Gm44GP44Gg44GV44GEPC9kaXY+CiAgICA8L2Zvb3Rlcj4KICA8L2Rpdj4KCiAgPGRpdiBpZD0id2lubmVyIiBjbGFzcz0id2lubmVyT3ZlcmxheSBoaWRkZW4iPgogICAgPGRpdiBjbGFzcz0id2luQ2FyZCI+CiAgICAgIDxkaXYgaWQ9Indpbm5lclRleHQiIHN0eWxlPSJmb250LXNpemU6MS42cmVtO2ZvbnQtd2VpZ2h0OjkwMCI+V2lubmVyPC9kaXY+CiAgICAgIDxiciAvPgogICAgICA8YnV0dG9uIHN0eWxlPSJmb250LXNpemU6MS4xcmVtO3BhZGRpbmc6MTBweCAyNHB4O2JvcmRlci1yYWRpdXM6MTBweDtib3JkZXI6bm9uZTtiYWNrZ3JvdW5kOnZhcigtLWFjY2VudCk7Y29sb3I6IzAwMTtmb250LXdlaWdodDo3MDA7Y3Vyc29yOnBvaW50ZXIiPuOCguOBhuOBhOOBoeOBqSDjgYLjgZ3jgbY8L2J1dHRvbj4KICAgIDwvZGl2PgogIDwvZGl2PgoKICA8ZGl2IGlkPSJzdGFydERpYWxvZyIgY2xhc3M9Indpbm5lck92ZXJsYXkiPgogICAgPGRpdiBjbGFzcz0id2luQ2FyZCI+CiAgICAgIDxkaXYgc3R5bGU9ImZvbnQtc2l6ZToxLjNyZW07Zm9udC13ZWlnaHQ6NzAwO21hcmdpbi1ib3R0b206MTZweCI+44KC44KT44Gg44GE44GvIOOBhOOBj+OBpOOBq+OBl+OBvuOBmeOBi++8nzwvZGl2PgogICAgICA8c2VsZWN0IGlkPSJkaWFsb2dQcm9ibGVtcyIgc3R5bGU9ImZvbnQtc2l6ZToxLjNyZW07d2lkdGg6OTBweDt0ZXh0LWFsaWduOmNlbnRlcjtwYWRkaW5nOjhweDtib3JkZXItcmFkaXVzOjhweDtib3JkZXI6bm9uZTtiYWNrZ3JvdW5kOiMwNzE4Mjc7Y29sb3I6dmFyKC0tdGV4dCk7bWFyZ2luLWJvdHRvbToxOHB4OyI+CiAgICAgICAgPCEtLSBvcHRpb25zIHdpbGwgYmUgZ2VuZXJhdGVkIGJ5IEpTIC0tPgogICAgICA8L3NlbGVjdD4KICAgICAgPGJyIC8+CiAgICAgIDxidXR0b24gaWQ9ImRpYWxvZ1N0YXJ0QnRuIiBzdHlsZT0iZm9udC1zaXplOjEuMXJlbTtwYWRkaW5nOjEwcHggMjRweDtib3JkZXItcmFkaXVzOjEwcHg7Ym9yZGVyOm5vbmU7YmFja2dyb3VuZDp2YXIoLS1hY2NlbnQpO2NvbG9yOiMwMDE7Zm9udC13ZWlnaHQ6NzAwO2N1cnNvcjpwb2ludGVyIj7jgrLjg7zjg6DjgpIg44Gv44GY44KB44KLPC9idXR0b24+CiAgICA8L2Rpdj4KICA8L2Rpdj4KCiAgPGRpdiBpZD0iY291bnREb3duRGlhbG9nIiBjbGFzcz0id2lubmVyT3ZlcmxheSBoaWRkZW4iPgogICAgPGRpdiBjbGFzcz0id2luQ2FyZCI+CiAgICAgIDxkaXYgaWQ9ImNvdW50RG93biIgc3R5bGU9ImZvbnQtc2l6ZTo0cmVtO2ZvbnQtd2VpZ2h0OjkwMCI+MzwvZGl2PgogICAgPC9kaXY+CiAgPC9kaXY+CgogIDxzY3JpcHQ+CiAgICAvLyDjgrfjg7Pjg5fjg6vjgarljZjkuIDjg5XjgqHjgqTjg6vjga7jg63jgrjjg4Pjgq8KICAgIGNvbnN0IGJ1dHRvbnNMID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J1dHRvbnNMJyk7CiAgICBjb25zdCBidXR0b25zUiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidXR0b25zUicpOwogICAgY29uc3QgcXVlc3Rpb25FbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdxdWVzdGlvbicpOwogICAgY29uc3QgcXVlc3Rpb25NaXJyb3IgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncXVlc3Rpb25NaXJyb3InKTsKICAgIGNvbnN0IHNjb3JlTCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzY29yZUwnKTsKICAgIGNvbnN0IHNjb3JlUiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzY29yZVInKTsKICAgIGNvbnN0IHByb2dyZXNzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2dyZXNzJyk7CiAgICBjb25zdCBzdGF0dXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3RhdHVzJyk7CiAgICBjb25zdCB3aW5uZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2lubmVyJyk7CiAgICBjb25zdCB3aW5uZXJUZXh0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dpbm5lclRleHQnKTsKICAgIGNvbnN0IHN0YXJ0RGlhbG9nID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0YXJ0RGlhbG9nJyk7CiAgICBjb25zdCBjb3VudERvd25EaWFsb2cgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY291bnREb3duRGlhbG9nJyk7CiAgICBjb25zdCBjb3VudERvd24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY291bnREb3duJyk7CiAgICBjb25zdCBkaWFsb2dQcm9ibGVtcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaWFsb2dQcm9ibGVtcycpOwogICAgY29uc3QgZGlhbG9nU3RhcnRCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlhbG9nU3RhcnRCdG4nKTsKCiAgICAvLyDnirbmhYsKICAgIGxldCB0b3RhbFByb2JsZW1zID0gMTA7CiAgICBsZXQgY3VycmVudCA9IDA7CiAgICBsZXQgc2NvcmUgPSB7TDowLFI6MH07CiAgICBsZXQgY29ycmVjdEFuc3dlciA9IG51bGw7CiAgICBsZXQgd2FpdGluZyA9IGZhbHNlOyAvLyDllY/poYzooajnpLrkuK3jgafop6PnrZTlvoXjgaEKICAgIGxldCBhbnN3ZXJzID0ge0w6bnVsbCwgUjpudWxsfTsKICAgIGxldCB0aW1lc3RhbXBzID0ge0w6MCxSOjB9OwoKICAgIC8vIOODnOOCv+ODs+S9nOaIkAogICAgZnVuY3Rpb24gbWFrZUJ1dHRvbnMoY29udGFpbmVyLCBzaWRlKXsKICAgICAgY29udGFpbmVyLmlubmVySFRNTCA9ICcnOwogICAgICBmb3IobGV0IGk9MTtpPD0xNTtpKyspewogICAgICAgIGNvbnN0IGIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTsKICAgICAgICBiLmNsYXNzTmFtZSA9ICdhbnNCdG4nOwogICAgICAgIGIudGV4dENvbnRlbnQgPSBpOwogICAgICAgIGIuZGF0YXNldC52YWwgPSBpOwogICAgICAgIGIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKT0+IG9uQW5zd2VyKHNpZGUsIGksIGIpKTsKICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoYik7CiAgICAgIH0KICAgIH0KCiAgICBtYWtlQnV0dG9ucyhidXR0b25zTCwgJ0wnKTsKICAgIG1ha2VCdXR0b25zKGJ1dHRvbnNSLCAnUicpOwoKICAgIGZ1bmN0aW9uIG9uQW5zd2VyKHNpZGUsIHZhbCwgYnRuKXsKICAgICAgaWYoIXdhaXRpbmcpIHJldHVybjsKICAgICAgLy8gMuS6uuOBjOWQjOaZguOBq+aKvOOBm+OCi+OCiOOBhuOBq+WQhOiHquOBruacgOWIneOBruaKvOS4i+OCkuiomOmMsgogICAgICBpZihhbnN3ZXJzW3NpZGVdICE9PSBudWxsKSByZXR1cm47IC8vIOS6jOWbnuebruOBr+eEoeimlgogICAgICBhbnN3ZXJzW3NpZGVdID0gdmFsOwogICAgICB0aW1lc3RhbXBzW3NpZGVdID0gcGVyZm9ybWFuY2Uubm93KCk7CgogICAgICAvLyDopovjgZ/nm67jg5XjgqPjg7zjg4njg5Djg4Pjgq8KICAgICAgYnRuLnN0eWxlLmJveFNoYWRvdyA9ICcwIDNweCA4cHggcmdiYSgwLDAsMCwwLjYpIGluc2V0JzsKICAgICAgaWYodmFsID09PSBjb3JyZWN0QW5zd2VyKXsKICAgICAgICBidG4uc3R5bGUuYm9yZGVyID0gJzNweCBzb2xpZCB2YXIoLS1vayknOwogICAgICB9IGVsc2UgewogICAgICAgIGJ0bi5zdHlsZS5ib3JkZXIgPSAnM3B4IHNvbGlkIHZhcigtLWJhZCknOwogICAgICB9CgogICAgICBjaGVja1JvdW5kRW5kKCk7CiAgICB9CgogICAgZnVuY3Rpb24gY2hlY2tSb3VuZEVuZCgpewogICAgICAvLyDkuKHogIXjgYzlm57nrZTjgZfjgZ/jgYvjgIHniYfmlrnmraPop6Pjgafnm7jmiYvjgYzmirzjgZnliY3jgavmraPop6PnorrlrprvvIjml6nmirzjgZfvvIkKICAgICAgY29uc3QgTCA9IGFuc3dlcnMuTCwgUiA9IGFuc3dlcnMuUjsKICAgICAgLy8g54mH5pa544GM5q2j6Kej44Gn5LuW44GM44G+44Gg5pyq5Zue562UIC0+IOebuOaJi+OBq+acgOW+jOOBvuOBp+W+heOBn+OBm+OBn+OBj+OBquOBhOOBruOBp+efreaZgumWk+OBp+e1guS6hgogICAgICBpZigoTCA9PT0gY29ycmVjdEFuc3dlciAmJiBSID09PSBudWxsKSB8fCAoUiA9PT0gY29ycmVjdEFuc3dlciAmJiBMID09PSBudWxsKSl7CiAgICAgICAgLy8g5bCP44GV44Gq54y25LqI44Gn5rG6552A77yIMjAwbXPvvIkKICAgICAgICBzZXRUaW1lb3V0KCgpPT4gZmluYWxpemVSb3VuZCgpLCAyMDApOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBpZihMICE9PSBudWxsICYmIFIgIT09IG51bGwpewogICAgICAgIGZpbmFsaXplUm91bmQoKTsKICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIGZpbmFsaXplUm91bmQoKXsKICAgICAgaWYoIXdhaXRpbmcpIHJldHVybjsKICAgICAgd2FpdGluZyA9IGZhbHNlOwogICAgICAvLyDliKTlrpoKICAgICAgY29uc3QgTHZhbCA9IGFuc3dlcnMuTCwgUnZhbCA9IGFuc3dlcnMuUjsKICAgICAgbGV0IHdpbm5lclNpZGUgPSBudWxsOwogICAgICBpZihMdmFsID09PSBjb3JyZWN0QW5zd2VyICYmIFJ2YWwgPT09IGNvcnJlY3RBbnN3ZXIpewogICAgICAgIC8vIOS4oeaWueato+inoyAtPiDpgJ/jgYTmlrkKICAgICAgICB3aW5uZXJTaWRlID0gdGltZXN0YW1wcy5MIDwgdGltZXN0YW1wcy5SID8gJ0wnIDogKHRpbWVzdGFtcHMuUiA8IHRpbWVzdGFtcHMuTCA/ICdSJyA6IG51bGwpOwogICAgICB9IGVsc2UgaWYoTHZhbCA9PT0gY29ycmVjdEFuc3dlcil7CiAgICAgICAgd2lubmVyU2lkZSA9ICdMJzsKICAgICAgfSBlbHNlIGlmKFJ2YWwgPT09IGNvcnJlY3RBbnN3ZXIpewogICAgICAgIHdpbm5lclNpZGUgPSAnUic7CiAgICAgIH0KCiAgICAgIGlmKHdpbm5lclNpZGUpewogICAgICAgIHNjb3JlW3dpbm5lclNpZGVdKys7CiAgICAgICAgc2NvcmVMLnRleHRDb250ZW50ID0gc2NvcmUuTDsKICAgICAgICBzY29yZVIudGV4dENvbnRlbnQgPSBzY29yZS5SOwogICAgICAgIHN0YXR1cy50ZXh0Q29udGVudCA9ICh3aW5uZXJTaWRlID09PSAnTCcgPyAn5bemJyA6ICflj7MnKSArICfjga7li53jgaHvvIEg5q2j6KejOiAnICsgY29ycmVjdEFuc3dlcjsKICAgICAgfSBlbHNlIHsKICAgICAgICBzdGF0dXMudGV4dENvbnRlbnQgPSAn5q2j6Kej44Gq44GX44CCIOato+inozogJyArIGNvcnJlY3RBbnN3ZXI7CiAgICAgIH0KCiAgICAgIGN1cnJlbnQrKzsKICAgICAgcHJvZ3Jlc3MudGV4dENvbnRlbnQgPSBgJHtjdXJyZW50fSAvICR7dG90YWxQcm9ibGVtc31gOwoKICAgICAgLy8g5qyh44Gu5ZWP6aGM44G45bCR44GX5b6F44Gj44Gm44GL44KJ56e76KGMCiAgICAgIHNldFRpbWVvdXQoKCk9PnsKICAgICAgICByZXNldEJ1dHRvbnNWaXN1YWwoKTsKICAgICAgICBpZihjdXJyZW50ID49IHRvdGFsUHJvYmxlbXMpewogICAgICAgICAgc2hvd0ZpbmFsUmVzdWx0KCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIG5leHRRdWVzdGlvbigpOwogICAgICAgIH0KICAgICAgfSwgNDAwKTsKICAgIH0KCiAgICBmdW5jdGlvbiByZXNldEJ1dHRvbnNWaXN1YWwoKXsKICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmFuc0J0bicpLmZvckVhY2goYj0+ewogICAgICAgIGIuc3R5bGUuYm9yZGVyPScnOwogICAgICAgIGIuc3R5bGUuYm94U2hhZG93PScnOwogICAgICB9KTsKICAgIH0KCiAgICBmdW5jdGlvbiBzaG93RmluYWxSZXN1bHQoKXsKICAgICAgbGV0IHRleHQgPSAnJzsKICAgICAgaWYoc2NvcmUuTCA+IHNjb3JlLlIpIHRleHQgPSAn44Gy44Gg44KK44GuIOOBi+OBoe+8gSAnICsgc2NvcmUuTCArICcgOiAnICsgc2NvcmUuUjsKICAgICAgZWxzZSBpZihzY29yZS5SID4gc2NvcmUuTCkgdGV4dCA9ICfjgb/jgY7jga4g44GL44Gh77yBICcgKyBzY29yZS5SICsgJyA6ICcgKyBzY29yZS5MOwogICAgICBlbHNlIHRleHQgPSAn44Gy44GN44KP44GRICcgKyBzY29yZS5MICsgJyA6ICcgKyBzY29yZS5SOwogICAgICB3aW5uZXJUZXh0LnRleHRDb250ZW50ID0gdGV4dDsKICAgICAgd2lubmVyLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpOwogICAgICBzdGF0dXMudGV4dENvbnRlbnQgPSAn44Ky44O844Og57WC5LqGJzsKICAgIH0KCiAgICBmdW5jdGlvbiBuZXh0UXVlc3Rpb24oKXsKICAgICAgYW5zd2VycyA9IHtMOm51bGwsUjpudWxsfTsKICAgICAgdGltZXN0YW1wcyA9IHtMOjAsUjowfTsKICAgICAgY29ycmVjdEFuc3dlciA9IG51bGw7CiAgICAgIHdhaXRpbmcgPSB0cnVlOwogICAgICAvLyDllY/poYzkvZzmiJAKICAgICAgY29uc3QgcSA9IG1ha2VQcm9ibGVtKCk7CiAgICAgIGNvcnJlY3RBbnN3ZXIgPSBxLmFuc3dlcjsKICAgICAgcXVlc3Rpb25FbC50ZXh0Q29udGVudCA9IHEudGV4dDsKICAgICAgcXVlc3Rpb25NaXJyb3IudGV4dENvbnRlbnQgPSBxLnRleHQ7IC8vIOS4oeWBtOOBq+WQjOOBmOWVj+mhjAogICAgICBzdGF0dXMudGV4dENvbnRlbnQgPSAn6Kej562U44KS5oq844GX44Gm44GP44Gg44GV44GE77yBJzsKICAgICAgcHJvZ3Jlc3MudGV4dENvbnRlbnQgPSBgJHtjdXJyZW50KzF9IC8gJHt0b3RhbFByb2JsZW1zfWA7CiAgICB9CgogICAgZnVuY3Rpb24gbWFrZVByb2JsZW0oKXsKICAgICAgLy8g5LiA5qGB44Gu6Laz44GX566X44GL5byV44GN566X77yIMC0577yJ44KS44Op44Oz44OA44Og44Gr5L2c44KL44CC44Gf44Gg44GX562U44GI44GMMS4uMTXjgavlhaXjgovjgojjgYbjgavjg5XjgqPjg6vjgr8KICAgICAgd2hpbGUodHJ1ZSl7CiAgICAgICAgY29uc3QgYSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSoxMCk7IC8vIDAuLjkKICAgICAgICBjb25zdCBiID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKjEwKTsKICAgICAgICBjb25zdCBvcCA9IE1hdGgucmFuZG9tKCkgPCAwLjUgPyAnKycgOiAnLSc7CiAgICAgICAgbGV0IGFucyA9IChvcCA9PT0gJysnKSA/IGEgKyBiIDogYSAtIGI7CiAgICAgICAgaWYoYW5zID49IDEgJiYgYW5zIDw9IDE1KXsKICAgICAgICAgIGNvbnN0IHRleHQgPSBgJHthfSAke29wfSAke2J9ID0gP2A7CiAgICAgICAgICByZXR1cm4ge3RleHQsIGFuc3dlcjphbnN9OwogICAgICAgIH0KICAgICAgICAvLyBlbHNlIOWGjeippuihjAogICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gc3RhcnRHYW1lKHByb2JsZW1zKXsKICAgICAgdG90YWxQcm9ibGVtcyA9IHByb2JsZW1zOwogICAgICBjdXJyZW50ID0gMDsKICAgICAgc2NvcmUgPSB7TDowLFI6MH07CiAgICAgIHNjb3JlTC50ZXh0Q29udGVudCA9ICcwJzsgc2NvcmVSLnRleHRDb250ZW50ID0gJzAnOwogICAgICBwcm9ncmVzcy50ZXh0Q29udGVudCA9IGAwIC8gJHt0b3RhbFByb2JsZW1zfWA7CiAgICAgIHN0YXR1cy50ZXh0Q29udGVudCA9ICfjgrnjgr/jg7zjg4jvvIEnOwogICAgICB3aW5uZXIuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7CiAgICAgIC8vIOacgOWIneOBruWVj+mhjOOCkuOBmeOBkOWHuuOBmQogICAgICBzZXRUaW1lb3V0KCgpPT4gbmV4dFF1ZXN0aW9uKCksIDQwMCk7CiAgICB9CgogICAgLy8g44Ky44O844Og57WC5LqG5pmC44Gr44Oq44K744OD44OI44Oc44K/44Oz44KS5pyJ5Yq544Gr44GZ44KL44Gf44KB44CBd2lubmVy44Kv44Oq44OD44Kv44Gn6ZaJ44GY44KLCiAgICB3aW5uZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKT0+ewogICAgICB3aW5uZXIuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7CiAgICAgIHNob3dTdGFydERpYWxvZygpOwogICAgfSk7CgogICAgLy8g44K/44OD44OB5pmC44Gr5pep44GP5Y+N5b+c44GZ44KL44Gf44KB44Gu6Kit5a6a77yI5LiN6KaB44GL44KC44GX44KM44Gq44GE44GM5YaX6ZW36Ziy5q2i77yJCiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgKCk9Pnt9LCB7cGFzc2l2ZTp0cnVlfSk7CgogICAgLy8g5Yid5pyfVUkKICAgIHByb2dyZXNzLnRleHRDb250ZW50ID0gYDAgLyAke3RvdGFsUHJvYmxlbXN9YDsKICAgIHN0YXR1cy50ZXh0Q29udGVudCA9ICfmupblgpnlrozkuoYgPyDjgrnjgr/jg7zjg4jjgpLmirzjgZfjgabjgY/jgaDjgZXjgYQnOwoKICAgIC8vIOWIneacn+ODgOOCpOOCouODreOCsOOBruWItuW+oQogICAgZnVuY3Rpb24gc2hvd1N0YXJ0RGlhbG9nKCkgewogICAgICBzdGFydERpYWxvZy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTsKICAgIH0KICAgIGZ1bmN0aW9uIGhpZGVTdGFydERpYWxvZygpIHsKICAgICAgc3RhcnREaWFsb2cuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7CiAgICB9CiAgICBmdW5jdGlvbiBzaG93Q291bnREb3duRGlhbG9nKCkgewogICAgICBjb3VudERvd24udGV4dENvbnRlbnQgPSAnMyc7IC8vIOWIneacn+WApAogICAgICBjb3VudERvd25EaWFsb2cuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7CiAgICB9CiAgICBmdW5jdGlvbiBoaWRlQ291bnREb3duRGlhbG9nKCkgewogICAgICBjb3VudERvd25EaWFsb2cuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7CiAgICB9CiAgICBmdW5jdGlvbiBzdGFydENvdW50RG93bihwcm9ibGVtcykgewogICAgICBzaG93Q291bnREb3duRGlhbG9nKCk7CiAgICAgIGxldCBjb3VudCA9IDI7CiAgICAgIGxldCBjb3VudERvd25DYWxsYmFjayA9IGZ1bmN0aW9uKCkgewogICAgICAgIGlmIChjb3VudCA+IDApIHsKICAgICAgICAgIHN0YXR1cy50ZXh0Q29udGVudCA9IGDjgrLjg7zjg6Dplovlp4vjgb7jgacgJHtjb3VudH0uLi5gOwogICAgICAgICAgY291bnREb3duLnRleHRDb250ZW50ID0gYCR7Y291bnR9YDsKICAgICAgICAgIGNvdW50LS07CiAgICAgICAgICBzZXRUaW1lb3V0KGNvdW50RG93bkNhbGxiYWNrLCAxMDAwKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgc3RhdHVzLnRleHRDb250ZW50ID0gYOOCueOCv+ODvOODiGA7CiAgICAgICAgICBjb3VudERvd24udGV4dENvbnRlbnQgPSBg44K544K/44O844OIYDsKICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICBzdGF0dXMudGV4dENvbnRlbnQgPSAn6Kej562U44KS5oq844GX44Gm44GP44Gg44GV44GE77yBJzsKICAgICAgICAgICAgaGlkZUNvdW50RG93bkRpYWxvZygpOwogICAgICAgICAgICBzdGFydEdhbWUocHJvYmxlbXMpOwogICAgICAgICAgfSwgMTAwMCk7CiAgICAgICAgfQogICAgICB9OwogICAgICBzZXRUaW1lb3V0KGNvdW50RG93bkNhbGxiYWNrLCAxMDAwKTsKICAgIH0KICAgIC8vIOOCsuODvOODoOmWi+Wni+aZguOBruODgOOCpOOCouODreOCsOOBi+OCieWApOOCkuWPjeaYoAogICAgZGlhbG9nU3RhcnRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7CiAgICAgIGxldCB2YWwgPSBOdW1iZXIoZGlhbG9nUHJvYmxlbXMudmFsdWUpIHx8IDEwOwogICAgICBoaWRlU3RhcnREaWFsb2coKTsKICAgICAgc3RhcnRDb3VudERvd24odmFsKTsKICAgIH0pOwoKICAgIC8vIOOCu+ODrOOCr+ODiOODnOODg+OCr+OCueOBrumBuOaKnuiCouOCkueUn+aIkAogICAgZm9yKGxldCBpPTE7aTw9NDA7aSsrKXsKICAgICAgY29uc3Qgb3B0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7CiAgICAgIG9wdC52YWx1ZSA9IGk7CiAgICAgIG9wdC50ZXh0Q29udGVudCA9IGk7CiAgICAgIGlmKGkgPT09IDEwKSBvcHQuc2VsZWN0ZWQgPSB0cnVlOwogICAgICBkaWFsb2dQcm9ibGVtcy5hcHBlbmRDaGlsZChvcHQpOwogICAgfQoKICAgIC8vIOODmuODvOOCuOODreODvOODieaZguOBq+ODgOOCpOOCouODreOCsOihqOekugogICAgc2hvd1N0YXJ0RGlhbG9nKCk7CiAgPC9zY3JpcHQ+CjwvYm9keT4KPC9odG1sPgo=)
* [math_game1_table.html](./math_game1_table.html)  
  足し算・引き算ゲーム (古い iPad 向け)  
  [オフライン版](data:text/html;charset=utf-8;base64,PCFkb2N0eXBlIGh0bWw+CjxodG1sIGxhbmc9ImphIj4KPGhlYWQ+CiAgPG1ldGEgY2hhcnNldD0idXRmLTgiIC8+CiAgPG1ldGEgbmFtZT0idmlld3BvcnQiIGNvbnRlbnQ9IndpZHRoPWRldmljZS13aWR0aCxpbml0aWFsLXNjYWxlPTEuMCxtYXhpbXVtLXNjYWxlPTEuMCx1c2VyLXNjYWxhYmxlPW5vIiAvPgogIDx0aXRsZT7ml6nmirzjgZfoqIjnrpfjgrLjg7zjg6A8L3RpdGxlPgogIDxzdHlsZT4KICAgIDpyb290eyAtLWJnOiMwZjE3MmE7IC0tcGFuZWw6IzBiMTIyMDsgLS1hY2NlbnQ6IzA2ZjsgLS1vazojMTZhMzRhOyAtLWJhZDojZWY0NDQ0OyAtLXRleHQ6I2U2ZWVmOCB9CiAgICBodG1sLGJvZHl7b3ZlcmZsb3cteDpoaWRkZW47IGhlaWdodDoxMDAlO21hcmdpbjowO2ZvbnQtZmFtaWx5OnN5c3RlbS11aSwtYXBwbGUtc3lzdGVtLFNlZ29lIFVJLFJvYm90bywnSGlyYWdpbm8gS2FrdSBHb3RoaWMgUHJvTicsTWVpcnlvLHNhbnMtc2VyaWY7YmFja2dyb3VuZDpsaW5lYXItZ3JhZGllbnQoMTgwZGVnLCMwNzExMjQgMCUsICMwOTIwMzYgMTAwJSk7Y29sb3I6dmFyKC0tdGV4dCl9CiAgICAud3JhcCB7CiAgICAgIGhlaWdodDogMTAwJTsKICAgICAgd2lkdGg6IDEwMHZ3OwogICAgICBtaW4taGVpZ2h0OiAxMDB2aDsKICAgICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgICBkaXNwbGF5OiBibG9jazsKICAgIH0KICAgIG1haW4gewogICAgICB3aWR0aDogMTAwdnc7CiAgICAgIG1pbi1oZWlnaHQ6IDcwdmg7CiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAgICAgZGlzcGxheTogYmxvY2s7CiAgICB9CiAgICAuc2lkZSB7CiAgICAgIHdpZHRoOiA0OHZ3OwogICAgICBtaW4taGVpZ2h0OiA2MHZoOwogICAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgIHRvcDogMDsKICAgICAgZGlzcGxheTogYmxvY2s7CiAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7CiAgICAgIHBhZGRpbmc6IDEycHg7CiAgICB9CiAgICAubGVmdCB7CiAgICAgIGxlZnQ6IDA7CiAgICAgIGJvcmRlci1yaWdodDogNHB4IHNvbGlkIHJnYmEoMjU1LDI1NSwyNTUsMC4wMyk7CiAgICB9CiAgICAucmlnaHQgewogICAgICByaWdodDogMDsKICAgICAgYm9yZGVyLWxlZnQ6IDRweCBzb2xpZCByZ2JhKDI1NSwyNTUsMjU1LDAuMDMpOwogICAgfQogICAgLnBsYXllckhlYWRlciB7CiAgICAgIHdpZHRoOiAxMDAlOwogICAgICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgICAgIGRpc3BsYXk6IGJsb2NrOwogICAgICBtYXJnaW4tYm90dG9tOiA4cHg7CiAgICAgIGJhY2tncm91bmQ6IHJnYmEoMjU1LDI1NSwyNTUsMC4wMik7CiAgICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7CiAgICAgIHBhZGRpbmc6IDZweCA4cHg7CiAgICB9CiAgICAucGxheWVySGVhZGVyIC5uYW1lIHsKICAgICAgZGlzcGxheTogYmxvY2s7CiAgICAgIGZsb2F0OiBsZWZ0OwogICAgICBmb250LXNpemU6IDEuMXJlbTsKICAgICAgZm9udC13ZWlnaHQ6IDcwMDsKICAgIH0KICAgIC5zY29yZSB7CiAgICAgIGZsb2F0OiByaWdodDsKICAgICAgZm9udC1zaXplOiAxLjJyZW07CiAgICAgIGZvbnQtd2VpZ2h0OiA4MDA7CiAgICB9CiAgICAucXVlc3Rpb25BcmVhIHsKICAgICAgd2lkdGg6IDEwMCU7CiAgICAgIG1pbi1oZWlnaHQ6IDEyMHB4OwogICAgICBkaXNwbGF5OiBibG9jazsKICAgICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgICBtYXJnaW46IDAgYXV0byAxMHB4IGF1dG87CiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAgIH0KICAgIC5xdWVzdGlvbkNhcmQgewogICAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTgwZGVnLCByZ2JhKDI1NSwyNTUsMjU1LDAuMDMpLCByZ2JhKDI1NSwyNTUsMjU1LDAuMDEpKTsKICAgICAgcGFkZGluZzogMThweDsKICAgICAgYm9yZGVyLXJhZGl1czogMTRweDsKICAgICAgbWluLXdpZHRoOiAyNjBweDsKICAgICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgICBib3gtc2hhZG93OiAwIDZweCAxOHB4IHJnYmEoMCwwLDAsMC40NSk7CiAgICAgIGRpc3BsYXk6IGJsb2NrOwogICAgICBtYXJnaW46IDAgYXV0bzsKICAgIH0KICAgIC5xdWVzdGlvbiB7CiAgICAgIGZvbnQtc2l6ZTogMi42cmVtOwogICAgICBmb250LXdlaWdodDogOTAwOwogICAgICBkaXNwbGF5OiBibG9jazsKICAgIH0KICAgIC5idXR0b25zR3JpZCB7CiAgICAgIHdpZHRoOiAxMDAlOwogICAgICBtYXJnaW4tdG9wOiAxNHB4OwogICAgICBkaXNwbGF5OiBibG9jazsKICAgICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgfQogICAgLmJ1dHRvbnNHcmlkIHRhYmxlIHsKICAgICAgbWFyZ2luOiAwIGF1dG87CiAgICAgIGJvcmRlci1zcGFjaW5nOiA4cHg7CiAgICAgIGJvcmRlci1jb2xsYXBzZTogc2VwYXJhdGU7CiAgICB9CiAgICAuYW5zQnRuIHsKICAgICAgd2lkdGg6IDh2dzsKICAgICAgaGVpZ2h0OiA4dnc7CiAgICAgIG1pbi13aWR0aDogNDhweDsKICAgICAgbWluLWhlaWdodDogNDhweDsKICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDsKICAgICAgcGFkZGluZzogMDsKICAgICAgbWFyZ2luOiAwOwogICAgICBkaXNwbGF5OiBibG9jazsKICAgICAgYm9yZGVyLXJhZGl1czogMTBweDsKICAgICAgYm9yZGVyOiAzcHggc29saWQgdHJhbnNwYXJlbnQ7CiAgICAgIGZvbnQtc2l6ZTogMS4xcmVtOwogICAgICBmb250LXdlaWdodDogNzAwOwogICAgICB0b3VjaC1hY3Rpb246IG1hbmlwdWxhdGlvbjsKICAgICAgYmFja2dyb3VuZDogIzA3MTgyNzsKICAgICAgY29sb3I6IHZhcigtLXRleHQpOwogICAgICBib3gtc2hhZG93OiAwIDZweCAxMnB4IHJnYmEoMCwwLDAsMC41KTsKICAgICAgdHJhbnNpdGlvbjogYm9yZGVyIDAuMXMsIGJveC1zaGFkb3cgMC4xczsKICAgIH0KICAgIC5hbnNCdG46YWN0aXZlIHsKICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDFweCk7CiAgICB9CiAgICBmb290ZXIgewogICAgICB3aWR0aDogMTAwdnc7CiAgICAgIHBhZGRpbmc6IDhweCAxMnB4OwogICAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgIGJvdHRvbTogMDsKICAgICAgbGVmdDogMDsKICAgICAgZGlzcGxheTogYmxvY2s7CiAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7CiAgICAgIHotaW5kZXg6IDIwOwogICAgfQogICAgI3Byb2dyZXNzLCAjc3RhdHVzIHsKICAgICAgZGlzcGxheTogaW5saW5lOwogICAgICBtYXJnaW4tcmlnaHQ6IDEycHg7CiAgICB9CiAgICAud2lubmVyT3ZlcmxheXtwb3NpdGlvbjpmaXhlZDt0b3A6MHB4O2xlZnQ6MHB4O2JvdHRvbTowcHg7cmlnaHQ6MHB4O2luc2V0OjA7ZGlzcGxheTpibG9jazthbGlnbi1pdGVtczpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcjtiYWNrZ3JvdW5kOmxpbmVhci1ncmFkaWVudCgxODBkZWcsIHJnYmEoMiw2LDIzLDAuNzUpLCByZ2JhKDIsNiwyMywwLjg4KSk7ei1pbmRleDo0MH0KICAgIC53aW5DYXJke3BhZGRpbmc6MjBweDtib3JkZXItcmFkaXVzOjE0cHg7YmFja2dyb3VuZDojMDIxMDI2O2NvbG9yOnZhcigtLXRleHQpO3RleHQtYWxpZ246Y2VudGVyO2JveC1zaGFkb3c6MCAxMnB4IDQwcHggcmdiYSgwLDAsMCwwLjYpfQogICAgLnNtYWxse2ZvbnQtc2l6ZTowLjlyZW07b3BhY2l0eTowLjl9CiAgICAuaGlkZGVue2Rpc3BsYXk6bm9uZX0KICAgIC8qIGxhcmdlIHRvdWNoIHRhcmdldHMgZm9yIHRhYmxldCAqLwogICAgQG1lZGlhIChtaW4td2lkdGg6OTAwcHgpewogICAgICAucXVlc3Rpb257Zm9udC1zaXplOjRyZW19CiAgICAgIC5hbnNCdG57Zm9udC1zaXplOjEuM3JlbX0KICAgIH0KICA8L3N0eWxlPgo8L2hlYWQ+Cjxib2R5PgogIDxkaXYgY2xhc3M9IndyYXAiPgogICAgPG1haW4+CiAgICAgIDxzZWN0aW9uIGNsYXNzPSJzaWRlIGxlZnQiIGlkPSJsZWZ0U2lkZSI+CiAgICAgICAgPGRpdiBjbGFzcz0icGxheWVySGVhZGVyIj4KICAgICAgICAgIDxkaXYgY2xhc3M9Im5hbWUiPuOBsuOBoOOCijwvZGl2PgogICAgICAgICAgPGRpdiBjbGFzcz0ic2NvcmUiIGlkPSJzY29yZUwiPjA8L2Rpdj4KICAgICAgICA8L2Rpdj4KICAgICAgICA8ZGl2IGNsYXNzPSJxdWVzdGlvbkFyZWEiPgogICAgICAgICAgPGRpdiBjbGFzcz0icXVlc3Rpb25DYXJkIj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0icXVlc3Rpb24iIGlkPSJxdWVzdGlvbiI+LS08L2Rpdj4KICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgogICAgICAgIDxkaXY+CiAgICAgICAgICA8ZGl2IGNsYXNzPSJidXR0b25zR3JpZCIgaWQ9ImJ1dHRvbnNMIj48L2Rpdj4KICAgICAgICA8L2Rpdj4KICAgICAgPC9zZWN0aW9uPgoKICAgICAgPHNlY3Rpb24gY2xhc3M9InNpZGUgcmlnaHQiIGlkPSJyaWdodFNpZGUiPgogICAgICAgIDxkaXYgY2xhc3M9InBsYXllckhlYWRlciI+CiAgICAgICAgICA8ZGl2IGNsYXNzPSJuYW1lIj7jgb/jgY48L2Rpdj4KICAgICAgICAgIDxkaXYgY2xhc3M9InNjb3JlIiBpZD0ic2NvcmVSIj4wPC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICAgICAgPGRpdiBjbGFzcz0icXVlc3Rpb25BcmVhIj4KICAgICAgICAgIDxkaXYgY2xhc3M9InF1ZXN0aW9uQ2FyZCI+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9InF1ZXN0aW9uIiBpZD0icXVlc3Rpb25NaXJyb3IiPi0tPC9kaXY+CiAgICAgICAgICA8L2Rpdj4KICAgICAgICA8L2Rpdj4KICAgICAgICA8ZGl2PgogICAgICAgICAgPGRpdiBjbGFzcz0iYnV0dG9uc0dyaWQiIGlkPSJidXR0b25zUiI+PC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICAgIDwvc2VjdGlvbj4KICAgIDwvbWFpbj4KCiAgICA8Zm9vdGVyPgogICAgICA8ZGl2IGlkPSJwcm9ncmVzcyI+MCAvIDA8L2Rpdj4KICAgICAgPGRpdiBpZD0ic3RhdHVzIj7liJ3mnJ/lgKQ8L2Rpdj4KICAgIDwvZm9vdGVyPgogIDwvZGl2PgoKICA8ZGl2IGlkPSJ3aW5uZXIiIGNsYXNzPSJ3aW5uZXJPdmVybGF5IGhpZGRlbiI+CiAgICA8ZGl2IGNsYXNzPSJ3aW5DYXJkIj4KICAgICAgPGRpdiBpZD0id2lubmVyVGV4dCIgc3R5bGU9ImZvbnQtc2l6ZToxLjZyZW07Zm9udC13ZWlnaHQ6OTAwIj5XaW5uZXI8L2Rpdj4KICAgICAgPGJyIC8+CiAgICAgIDxidXR0b24gc3R5bGU9ImZvbnQtc2l6ZToxLjFyZW07cGFkZGluZzoxMHB4IDI0cHg7Ym9yZGVyLXJhZGl1czoxMHB4O2JvcmRlcjpub25lO2JhY2tncm91bmQ6dmFyKC0tYWNjZW50KTtjb2xvcjojMDAxO2ZvbnQtd2VpZ2h0OjcwMDtjdXJzb3I6cG9pbnRlciI+44KC44GG44GE44Gh44GpIOOBguOBneOBtjwvYnV0dG9uPgogICAgPC9kaXY+CiAgPC9kaXY+CgogIDxkaXYgaWQ9InN0YXJ0RGlhbG9nIiBjbGFzcz0id2lubmVyT3ZlcmxheSI+CiAgICA8ZGl2IGNsYXNzPSJ3aW5DYXJkIj4KICAgICAgPGRpdiBzdHlsZT0iZm9udC1zaXplOjEuM3JlbTtmb250LXdlaWdodDo3MDA7bWFyZ2luLWJvdHRvbToxNnB4Ij7jgoLjgpPjgaDjgYTjga8g44GE44GP44Gk44Gr44GX44G+44GZ44GL77yfPC9kaXY+CiAgICAgIDxzZWxlY3QgaWQ9ImRpYWxvZ1Byb2JsZW1zIiBzdHlsZT0iZm9udC1zaXplOjEuM3JlbTt3aWR0aDo5MHB4O3RleHQtYWxpZ246Y2VudGVyO3BhZGRpbmc6OHB4O2JvcmRlci1yYWRpdXM6OHB4O2JvcmRlcjpub25lO2JhY2tncm91bmQ6IzA3MTgyNztjb2xvcjp2YXIoLS10ZXh0KTttYXJnaW4tYm90dG9tOjE4cHg7Ij4KICAgICAgICA8IS0tIG9wdGlvbnMgd2lsbCBiZSBnZW5lcmF0ZWQgYnkgSlMgLS0+CiAgICAgIDwvc2VsZWN0PgogICAgICA8YnIgLz4KICAgICAgPGJ1dHRvbiBpZD0iZGlhbG9nU3RhcnRCdG4iIHN0eWxlPSJmb250LXNpemU6MS4xcmVtO3BhZGRpbmc6MTBweCAyNHB4O2JvcmRlci1yYWRpdXM6MTBweDtib3JkZXI6bm9uZTtiYWNrZ3JvdW5kOnZhcigtLWFjY2VudCk7Y29sb3I6IzAwMTtmb250LXdlaWdodDo3MDA7Y3Vyc29yOnBvaW50ZXIiPuOCsuODvOODoOOCkiDjga/jgZjjgoHjgos8L2J1dHRvbj4KICAgIDwvZGl2PgogIDwvZGl2PgoKICA8ZGl2IGlkPSJjb3VudERvd25EaWFsb2ciIGNsYXNzPSJ3aW5uZXJPdmVybGF5IGhpZGRlbiI+CiAgICA8ZGl2IGNsYXNzPSJ3aW5DYXJkIj4KICAgICAgPGRpdiBpZD0iY291bnREb3duIiBzdHlsZT0iZm9udC1zaXplOjRyZW07Zm9udC13ZWlnaHQ6OTAwIj4zPC9kaXY+CiAgICA8L2Rpdj4KICA8L2Rpdj4KCiAgPCEtLSBzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij4KICAgIC8vIOOCt+ODs+ODl+ODq+OBquWNmOS4gOODleOCoeOCpOODq+OBruODreOCuOODg+OCrwogICAgY29uc3QgYnV0dG9uc0wgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnV0dG9uc0wnKTsKICAgIGNvbnN0IGJ1dHRvbnNSID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J1dHRvbnNSJyk7CiAgICBjb25zdCBxdWVzdGlvbkVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3F1ZXN0aW9uJyk7CiAgICBjb25zdCBxdWVzdGlvbk1pcnJvciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdxdWVzdGlvbk1pcnJvcicpOwogICAgY29uc3Qgc2NvcmVMID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Njb3JlTCcpOwogICAgY29uc3Qgc2NvcmVSID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Njb3JlUicpOwogICAgY29uc3QgcHJvZ3Jlc3MgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvZ3Jlc3MnKTsKICAgIGNvbnN0IHN0YXR1cyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdGF0dXMnKTsKICAgIGNvbnN0IHdpbm5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3aW5uZXInKTsKICAgIGNvbnN0IHdpbm5lclRleHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2lubmVyVGV4dCcpOwogICAgY29uc3Qgc3RhcnREaWFsb2cgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3RhcnREaWFsb2cnKTsKICAgIGNvbnN0IGNvdW50RG93bkRpYWxvZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb3VudERvd25EaWFsb2cnKTsKICAgIGNvbnN0IGNvdW50RG93biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb3VudERvd24nKTsKICAgIGNvbnN0IGRpYWxvZ1Byb2JsZW1zID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RpYWxvZ1Byb2JsZW1zJyk7CiAgICBjb25zdCBkaWFsb2dTdGFydEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaWFsb2dTdGFydEJ0bicpOwoKICAgIC8vIOeKtuaFiwogICAgbGV0IHRvdGFsUHJvYmxlbXMgPSAxMDsKICAgIGxldCBjdXJyZW50ID0gMDsKICAgIGxldCBzY29yZSA9IHtMOjAsUjowfTsKICAgIGxldCBjb3JyZWN0QW5zd2VyID0gbnVsbDsKICAgIGxldCB3YWl0aW5nID0gZmFsc2U7IC8vIOWVj+mhjOihqOekuuS4reOBp+ino+etlOW+heOBoQogICAgbGV0IGFuc3dlcnMgPSB7TDpudWxsLCBSOm51bGx9OwogICAgbGV0IHRpbWVzdGFtcHMgPSB7TDowLFI6MH07CgogICAgLy8g44Oc44K/44Oz5L2c5oiQCiAgICBmdW5jdGlvbiBtYWtlQnV0dG9ucyhjb250YWluZXIsIHNpZGUpewogICAgICBjb250YWluZXIuaW5uZXJIVE1MID0gJyc7CiAgICAgIC8vIHRhYmxl6KaB57Sg44KS5L2c5oiQCiAgICAgIGNvbnN0IHRhYmxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGFibGUnKTsKICAgICAgdGFibGUuc3R5bGUubWFyZ2luID0gJzAgYXV0byc7CiAgICAgIHRhYmxlLnN0eWxlLmJvcmRlckNvbGxhcHNlID0gJ3NlcGFyYXRlJzsKICAgICAgdGFibGUuc3R5bGUuYm9yZGVyU3BhY2luZyA9ICc4cHgnOwogICAgICBsZXQgbnVtID0gMTsKICAgICAgZm9yKGxldCByb3c9MDsgcm93PDM7IHJvdysrKXsKICAgICAgICBjb25zdCB0ciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RyJyk7CiAgICAgICAgZm9yKGxldCBjb2w9MDsgY29sPDU7IGNvbCsrKXsKICAgICAgICAgIGNvbnN0IHRkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTsKICAgICAgICAgIGlmKG51bSA8PSAxNSl7CiAgICAgICAgICAgIGNvbnN0IGIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTsKICAgICAgICAgICAgYi5jbGFzc05hbWUgPSAnYW5zQnRuJzsKICAgICAgICAgICAgYi50ZXh0Q29udGVudCA9IG51bTsKICAgICAgICAgICAgYi5kYXRhc2V0LnZhbCA9IG51bTsKICAgICAgICAgICAgKGZ1bmN0aW9uKG4pewogICAgICAgICAgICAgIGIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpeyBvbkFuc3dlcihzaWRlLCBuLCBiKSB9KTsKICAgICAgICAgICAgfSkobnVtKTsKICAgICAgICAgICAgdGQuYXBwZW5kQ2hpbGQoYik7CiAgICAgICAgICAgIG51bSsrOwogICAgICAgICAgfQogICAgICAgICAgdHIuYXBwZW5kQ2hpbGQodGQpOwogICAgICAgIH0KICAgICAgICB0YWJsZS5hcHBlbmRDaGlsZCh0cik7CiAgICAgIH0KICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHRhYmxlKTsKICAgIH0KCiAgICBtYWtlQnV0dG9ucyhidXR0b25zTCwgJ0wnKTsKICAgIG1ha2VCdXR0b25zKGJ1dHRvbnNSLCAnUicpOwoKICAgIGZ1bmN0aW9uIG9uQW5zd2VyKHNpZGUsIHZhbCwgYnRuKXsKICAgICAgaWYoIXdhaXRpbmcpIHJldHVybjsKICAgICAgLy8gMuS6uuOBjOWQjOaZguOBq+aKvOOBm+OCi+OCiOOBhuOBq+WQhOiHquOBruacgOWIneOBruaKvOS4i+OCkuiomOmMsgogICAgICBpZihhbnN3ZXJzW3NpZGVdICE9PSBudWxsKSByZXR1cm47IC8vIOS6jOWbnuebruOBr+eEoeimlgogICAgICBhbnN3ZXJzW3NpZGVdID0gdmFsOwogICAgICB0aW1lc3RhbXBzW3NpZGVdID0gcGVyZm9ybWFuY2Uubm93KCk7CgogICAgICAvLyDopovjgZ/nm67jg5XjgqPjg7zjg4njg5Djg4Pjgq8KICAgICAgYnRuLnN0eWxlLmJveFNoYWRvdyA9ICcwIDNweCA4cHggcmdiYSgwLDAsMCwwLjYpIGluc2V0JzsKICAgICAgaWYodmFsID09PSBjb3JyZWN0QW5zd2VyKXsKICAgICAgICBidG4uc3R5bGUuYm9yZGVyID0gJzNweCBzb2xpZCB2YXIoLS1vayknOwogICAgICB9IGVsc2UgewogICAgICAgIGJ0bi5zdHlsZS5ib3JkZXIgPSAnM3B4IHNvbGlkIHZhcigtLWJhZCknOwogICAgICB9CgogICAgICBjaGVja1JvdW5kRW5kKCk7CiAgICB9CgogICAgZnVuY3Rpb24gY2hlY2tSb3VuZEVuZCgpewogICAgICAvLyDkuKHogIXjgYzlm57nrZTjgZfjgZ/jgYvjgIHniYfmlrnmraPop6Pjgafnm7jmiYvjgYzmirzjgZnliY3jgavmraPop6PnorrlrprvvIjml6nmirzjgZfvvIkKICAgICAgY29uc3QgTCA9IGFuc3dlcnMuTCwgUiA9IGFuc3dlcnMuUjsKICAgICAgLy8g54mH5pa544GM5q2j6Kej44Gn5LuW44GM44G+44Gg5pyq5Zue562UIC0+IOebuOaJi+OBq+acgOW+jOOBvuOBp+W+heOBn+OBm+OBn+OBj+OBquOBhOOBruOBp+efreaZgumWk+OBp+e1guS6hgogICAgICBpZigoTCA9PT0gY29ycmVjdEFuc3dlciAmJiBSID09PSBudWxsKSB8fCAoUiA9PT0gY29ycmVjdEFuc3dlciAmJiBMID09PSBudWxsKSl7CiAgICAgICAgLy8g5bCP44GV44Gq54y25LqI44Gn5rG6552A77yIMjAwbXPvvIkKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7IGZpbmFsaXplUm91bmQoKSB9LCAyMDApOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBpZihMICE9PSBudWxsICYmIFIgIT09IG51bGwpewogICAgICAgIGZpbmFsaXplUm91bmQoKTsKICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIGZpbmFsaXplUm91bmQoKXsKICAgICAgaWYoIXdhaXRpbmcpIHJldHVybjsKICAgICAgd2FpdGluZyA9IGZhbHNlOwogICAgICAvLyDliKTlrpoKICAgICAgY29uc3QgTHZhbCA9IGFuc3dlcnMuTCwgUnZhbCA9IGFuc3dlcnMuUjsKICAgICAgbGV0IHdpbm5lclNpZGUgPSBudWxsOwogICAgICBpZihMdmFsID09PSBjb3JyZWN0QW5zd2VyICYmIFJ2YWwgPT09IGNvcnJlY3RBbnN3ZXIpewogICAgICAgIC8vIOS4oeaWueato+inoyAtPiDpgJ/jgYTmlrkKICAgICAgICB3aW5uZXJTaWRlID0gdGltZXN0YW1wcy5MIDwgdGltZXN0YW1wcy5SID8gJ0wnIDogKHRpbWVzdGFtcHMuUiA8IHRpbWVzdGFtcHMuTCA/ICdSJyA6IG51bGwpOwogICAgICB9IGVsc2UgaWYoTHZhbCA9PT0gY29ycmVjdEFuc3dlcil7CiAgICAgICAgd2lubmVyU2lkZSA9ICdMJzsKICAgICAgfSBlbHNlIGlmKFJ2YWwgPT09IGNvcnJlY3RBbnN3ZXIpewogICAgICAgIHdpbm5lclNpZGUgPSAnUic7CiAgICAgIH0KCiAgICAgIGlmKHdpbm5lclNpZGUpewogICAgICAgIHNjb3JlW3dpbm5lclNpZGVdKys7CiAgICAgICAgc2NvcmVMLnRleHRDb250ZW50ID0gc2NvcmUuTDsKICAgICAgICBzY29yZVIudGV4dENvbnRlbnQgPSBzY29yZS5SOwogICAgICAgIHN0YXR1cy50ZXh0Q29udGVudCA9ICh3aW5uZXJTaWRlID09PSAnTCcgPyAn5bemJyA6ICflj7MnKSArICfjga7li53jgaHvvIEg5q2j6KejOiAnICsgY29ycmVjdEFuc3dlcjsKICAgICAgfSBlbHNlIHsKICAgICAgICBzdGF0dXMudGV4dENvbnRlbnQgPSAn5q2j6Kej44Gq44GX44CCIOato+inozogJyArIGNvcnJlY3RBbnN3ZXI7CiAgICAgIH0KCiAgICAgIGN1cnJlbnQrKzsKICAgICAgcHJvZ3Jlc3MudGV4dENvbnRlbnQgPSBgJHtjdXJyZW50fSAvICR7dG90YWxQcm9ibGVtc31gOwoKICAgICAgLy8g5qyh44Gu5ZWP6aGM44G45bCR44GX5b6F44Gj44Gm44GL44KJ56e76KGMCiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgcmVzZXRCdXR0b25zVmlzdWFsKCk7CiAgICAgICAgaWYoY3VycmVudCA+PSB0b3RhbFByb2JsZW1zKXsKICAgICAgICAgIHNob3dGaW5hbFJlc3VsdCgpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBuZXh0UXVlc3Rpb24oKTsKICAgICAgICB9CiAgICAgIH0sIDQwMCk7CiAgICB9CgogICAgZnVuY3Rpb24gcmVzZXRCdXR0b25zVmlzdWFsKCl7CiAgICAgIEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmFuc0J0bicpKS5mb3JFYWNoKGZ1bmN0aW9uKGIpIHsKICAgICAgICBiLnN0eWxlLmJvcmRlcj0nJzsKICAgICAgICBiLnN0eWxlLmJveFNoYWRvdz0nJzsKICAgICAgfSk7CiAgICB9CgogICAgZnVuY3Rpb24gc2hvd0ZpbmFsUmVzdWx0KCl7CiAgICAgIGxldCB0ZXh0ID0gJyc7CiAgICAgIGlmKHNjb3JlLkwgPiBzY29yZS5SKSB0ZXh0ID0gJ+OBsuOBoOOCiuOBriDjgYvjgaHvvIEgJyArIHNjb3JlLkwgKyAnIDogJyArIHNjb3JlLlI7CiAgICAgIGVsc2UgaWYoc2NvcmUuUiA+IHNjb3JlLkwpIHRleHQgPSAn44G/44GO44GuIOOBi+OBoe+8gSAnICsgc2NvcmUuUiArICcgOiAnICsgc2NvcmUuTDsKICAgICAgZWxzZSB0ZXh0ID0gJ+OBsuOBjeOCj+OBkSAnICsgc2NvcmUuTCArICcgOiAnICsgc2NvcmUuUjsKICAgICAgd2lubmVyVGV4dC50ZXh0Q29udGVudCA9IHRleHQ7CiAgICAgIHdpbm5lci5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTsKICAgICAgc3RhdHVzLnRleHRDb250ZW50ID0gJ+OCsuODvOODoOe1guS6hic7CiAgICB9CgogICAgZnVuY3Rpb24gbmV4dFF1ZXN0aW9uKCl7CiAgICAgIGFuc3dlcnMgPSB7TDpudWxsLFI6bnVsbH07CiAgICAgIHRpbWVzdGFtcHMgPSB7TDowLFI6MH07CiAgICAgIGNvcnJlY3RBbnN3ZXIgPSBudWxsOwogICAgICB3YWl0aW5nID0gdHJ1ZTsKICAgICAgLy8g5ZWP6aGM5L2c5oiQCiAgICAgIGNvbnN0IHEgPSBtYWtlUHJvYmxlbSgpOwogICAgICBjb3JyZWN0QW5zd2VyID0gcS5hbnN3ZXI7CiAgICAgIHF1ZXN0aW9uRWwudGV4dENvbnRlbnQgPSBxLnRleHQ7CiAgICAgIHF1ZXN0aW9uTWlycm9yLnRleHRDb250ZW50ID0gcS50ZXh0OyAvLyDkuKHlgbTjgavlkIzjgZjllY/poYwKICAgICAgc3RhdHVzLnRleHRDb250ZW50ID0gJ+ino+etlOOCkuaKvOOBl+OBpuOBj+OBoOOBleOBhO+8gSc7CiAgICAgIHByb2dyZXNzLnRleHRDb250ZW50ID0gYCR7Y3VycmVudCsxfSAvICR7dG90YWxQcm9ibGVtc31gOwogICAgfQoKICAgIGZ1bmN0aW9uIG1ha2VQcm9ibGVtKCl7CiAgICAgIC8vIOS4gOahgeOBrui2s+OBl+eul+OBi+W8leOBjeeul++8iDAtOe+8ieOCkuODqeODs+ODgOODoOOBq+S9nOOCi+OAguOBn+OBoOOBl+etlOOBiOOBjDEuLjE144Gr5YWl44KL44KI44GG44Gr44OV44Kj44Or44K/CiAgICAgIHdoaWxlKHRydWUpewogICAgICAgIGNvbnN0IGEgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqMTApOyAvLyAwLi45CiAgICAgICAgY29uc3QgYiA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSoxMCk7CiAgICAgICAgY29uc3Qgb3AgPSBNYXRoLnJhbmRvbSgpIDwgMC41ID8gJysnIDogJy0nOwogICAgICAgIGxldCBhbnMgPSAob3AgPT09ICcrJykgPyBhICsgYiA6IGEgLSBiOwogICAgICAgIGlmKGFucyA+PSAxICYmIGFucyA8PSAxNSl7CiAgICAgICAgICBjb25zdCB0ZXh0ID0gYCR7YX0gJHtvcH0gJHtifSA9ID9gOwogICAgICAgICAgcmV0dXJuIHt0ZXh0LCBhbnN3ZXI6YW5zfTsKICAgICAgICB9CiAgICAgICAgLy8gZWxzZSDlho3oqabooYwKICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIHN0YXJ0R2FtZShwcm9ibGVtcyl7CiAgICAgIHRvdGFsUHJvYmxlbXMgPSBwcm9ibGVtczsKICAgICAgY3VycmVudCA9IDA7CiAgICAgIHNjb3JlID0ge0w6MCxSOjB9OwogICAgICBzY29yZUwudGV4dENvbnRlbnQgPSAnMCc7IHNjb3JlUi50ZXh0Q29udGVudCA9ICcwJzsKICAgICAgcHJvZ3Jlc3MudGV4dENvbnRlbnQgPSBgMCAvICR7dG90YWxQcm9ibGVtc31gOwogICAgICBzdGF0dXMudGV4dENvbnRlbnQgPSAn44K544K/44O844OI77yBJzsKICAgICAgd2lubmVyLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpOwogICAgICAvLyDmnIDliJ3jga7llY/poYzjgpLjgZnjgZDlh7rjgZkKICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsgbmV4dFF1ZXN0aW9uKCk7IH0sIDQwMCk7CiAgICB9CgogICAgLy8g44Ky44O844Og57WC5LqG5pmC44Gr44Oq44K744OD44OI44Oc44K/44Oz44KS5pyJ5Yq544Gr44GZ44KL44Gf44KB44CBd2lubmVy44Kv44Oq44OD44Kv44Gn6ZaJ44GY44KLCiAgICB3aW5uZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHsKICAgICAgd2lubmVyLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpOwogICAgICBzaG93U3RhcnREaWFsb2coKTsKICAgIH0pOwoKICAgIC8vIOOCv+ODg+ODgeaZguOBq+aXqeOBj+WPjeW/nOOBmeOCi+OBn+OCgeOBruioreWumu+8iOS4jeimgeOBi+OCguOBl+OCjOOBquOBhOOBjOWGl+mVt+mYsuatou+8iQogICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIGZ1bmN0aW9uKCkge30sIHtwYXNzaXZlOnRydWV9KTsKCiAgICAvLyDliJ3mnJ9VSQogICAgcHJvZ3Jlc3MudGV4dENvbnRlbnQgPSBgMCAvICR7dG90YWxQcm9ibGVtc31gOwogICAgc3RhdHVzLnRleHRDb250ZW50ID0gJ+a6luWCmeWujOS6hiA/IOOCueOCv+ODvOODiOOCkuaKvOOBl+OBpuOBj+OBoOOBleOBhCc7CgogICAgLy8g5Yid5pyf44OA44Kk44Ki44Ot44Kw44Gu5Yi25b6hCiAgICBmdW5jdGlvbiBzaG93U3RhcnREaWFsb2coKSB7CiAgICAgIHN0YXJ0RGlhbG9nLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpOwogICAgfQogICAgZnVuY3Rpb24gaGlkZVN0YXJ0RGlhbG9nKCkgewogICAgICBzdGFydERpYWxvZy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTsKICAgIH0KICAgIGZ1bmN0aW9uIHNob3dDb3VudERvd25EaWFsb2coKSB7CiAgICAgIGNvdW50RG93bi50ZXh0Q29udGVudCA9ICczJzsgLy8g5Yid5pyf5YCkCiAgICAgIGNvdW50RG93bkRpYWxvZy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTsKICAgIH0KICAgIGZ1bmN0aW9uIGhpZGVDb3VudERvd25EaWFsb2coKSB7CiAgICAgIGNvdW50RG93bkRpYWxvZy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTsKICAgIH0KICAgIGZ1bmN0aW9uIHN0YXJ0Q291bnREb3duKHByb2JsZW1zKSB7CiAgICAgIHNob3dDb3VudERvd25EaWFsb2coKTsKICAgICAgbGV0IGNvdW50ID0gMjsKICAgICAgbGV0IGNvdW50RG93bkNhbGxiYWNrID0gZnVuY3Rpb24oKSB7CiAgICAgICAgaWYgKGNvdW50ID4gMCkgewogICAgICAgICAgc3RhdHVzLnRleHRDb250ZW50ID0gYOOCsuODvOODoOmWi+Wni+OBvuOBpyAke2NvdW50fS4uLmA7CiAgICAgICAgICBjb3VudERvd24udGV4dENvbnRlbnQgPSBgJHtjb3VudH1gOwogICAgICAgICAgY291bnQtLTsKICAgICAgICAgIHNldFRpbWVvdXQoY291bnREb3duQ2FsbGJhY2ssIDEwMDApOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBzdGF0dXMudGV4dENvbnRlbnQgPSBg44K544K/44O844OIYDsKICAgICAgICAgIGNvdW50RG93bi50ZXh0Q29udGVudCA9IGDjgrnjgr/jg7zjg4hgOwogICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICAgICAgc3RhdHVzLnRleHRDb250ZW50ID0gJ+ino+etlOOCkuaKvOOBl+OBpuOBj+OBoOOBleOBhO+8gSc7CiAgICAgICAgICAgIGhpZGVDb3VudERvd25EaWFsb2coKTsKICAgICAgICAgICAgc3RhcnRHYW1lKHByb2JsZW1zKTsKICAgICAgICAgIH0sIDEwMDApOwogICAgICAgIH0KICAgICAgfTsKICAgICAgc2V0VGltZW91dChjb3VudERvd25DYWxsYmFjaywgMTAwMCk7CiAgICB9CiAgICAvLyDjgrLjg7zjg6Dplovlp4vmmYLjga7jg4DjgqTjgqLjg63jgrDjgYvjgonlgKTjgpLlj43mmKAKICAgIGRpYWxvZ1N0YXJ0QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKSB7CiAgICAgIGxldCB2YWwgPSBOdW1iZXIoZGlhbG9nUHJvYmxlbXMudmFsdWUpIHx8IDEwOwogICAgICBoaWRlU3RhcnREaWFsb2coKTsKICAgICAgc3RhcnRDb3VudERvd24odmFsKTsKICAgIH0pOwoKICAgIC8vIOOCu+ODrOOCr+ODiOODnOODg+OCr+OCueOBrumBuOaKnuiCouOCkueUn+aIkAogICAgZm9yKGxldCBpPTE7aTw9NDA7aSsrKXsKICAgICAgY29uc3Qgb3B0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7CiAgICAgIG9wdC52YWx1ZSA9IGk7CiAgICAgIG9wdC50ZXh0Q29udGVudCA9IGk7CiAgICAgIGlmKGkgPT09IDEwKSBvcHQuc2VsZWN0ZWQgPSB0cnVlOwogICAgICBkaWFsb2dQcm9ibGVtcy5hcHBlbmRDaGlsZChvcHQpOwogICAgfQoKICAgIC8vIOODmuODvOOCuOODreODvOODieaZguOBq+ODgOOCpOOCouODreOCsOihqOekugogICAgc2hvd1N0YXJ0RGlhbG9nKCk7CiAgPC9zY3JpcHQgLS0+CiAgPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiPgp3aW5kb3cub25lcnJvciA9IGZ1bmN0aW9uKGEsIGIsIGMsIGQsIGUpIHsKICB2YXIgbWVzc2FnZSA9ICIiOwogIG1lc3NhZ2UgKz0gIm1lc3NhZ2U6ICIgKyBhICsgIiAiOwogIG1lc3NhZ2UgKz0gInNvdXJjZTogIiArIGIgKyAiICI7CiAgbWVzc2FnZSArPSAibGluZW5vOiAiICsgYyArICIgIjsKICBtZXNzYWdlICs9ICJjb2xubzogIiArIGQgKyAiICI7CiAgbWVzc2FnZSArPSAiZXJyb3I6ICIgKyBlICsgIiAiOwogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzdGF0dXMiKS50ZXh0Q29udGVudCA9IG1lc3NhZ2U7CgogIHJldHVybiB0cnVlOwp9Owp3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgZnVuY3Rpb24oZXZlbnQpIHsKICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwp9KTsKICA8L3NjcmlwdD4KCiAgPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiPgovLyDjgrfjg7Pjg5fjg6vjgarljZjkuIDjg5XjgqHjgqTjg6vjga7jg63jgrjjg4Pjgq8KdmFyIGJ1dHRvbnNMID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J1dHRvbnNMJyk7CnZhciBidXR0b25zUiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidXR0b25zUicpOwp2YXIgcXVlc3Rpb25FbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdxdWVzdGlvbicpOwp2YXIgcXVlc3Rpb25NaXJyb3IgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncXVlc3Rpb25NaXJyb3InKTsKdmFyIHNjb3JlTCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzY29yZUwnKTsKdmFyIHNjb3JlUiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzY29yZVInKTsKdmFyIHByb2dyZXNzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2dyZXNzJyk7CnZhciBzdGF0dXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3RhdHVzJyk7CnZhciB3aW5uZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2lubmVyJyk7CnZhciB3aW5uZXJUZXh0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dpbm5lclRleHQnKTsKdmFyIHN0YXJ0RGlhbG9nID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0YXJ0RGlhbG9nJyk7CnZhciBjb3VudERvd25EaWFsb2cgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY291bnREb3duRGlhbG9nJyk7CnZhciBjb3VudERvd24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY291bnREb3duJyk7CnZhciBkaWFsb2dQcm9ibGVtcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaWFsb2dQcm9ibGVtcycpOwp2YXIgZGlhbG9nU3RhcnRCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlhbG9nU3RhcnRCdG4nKTsKLy8g54q25oWLCnZhciB0b3RhbFByb2JsZW1zID0gMTA7CnZhciBjdXJyZW50ID0gMDsKdmFyIHNjb3JlID0gewogIEw6IDAsCiAgUjogMAp9Owp2YXIgY29ycmVjdEFuc3dlciA9IG51bGw7CnZhciB3YWl0aW5nID0gZmFsc2U7IC8vIOWVj+mhjOihqOekuuS4reOBp+ino+etlOW+heOBoQp2YXIgYW5zd2VycyA9IHsKICBMOiBudWxsLAogIFI6IG51bGwKfTsKdmFyIHRpbWVzdGFtcHMgPSB7CiAgTDogMCwKICBSOiAwCn07Ci8vIOODnOOCv+ODs+S9nOaIkApmdW5jdGlvbiBtYWtlQnV0dG9ucyhjb250YWluZXIsIHNpZGUpIHsKICBjb250YWluZXIuaW5uZXJIVE1MID0gJyc7CiAgLy8gdGFibGXopoHntKDjgpLkvZzmiJAKICB2YXIgdGFibGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0YWJsZScpOwogIHRhYmxlLnN0eWxlLm1hcmdpbiA9ICcwIGF1dG8nOwogIHRhYmxlLnN0eWxlLmJvcmRlckNvbGxhcHNlID0gJ3NlcGFyYXRlJzsKICB0YWJsZS5zdHlsZS5ib3JkZXJTcGFjaW5nID0gJzhweCc7CiAgdmFyIG51bSA9IDE7CiAgZm9yICh2YXIgcm93ID0gMDsgcm93IDwgMzsgcm93KyspIHsKICAgIHZhciB0ciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RyJyk7CiAgICB2YXIgX2xvb3AgPSBmdW5jdGlvbiBfbG9vcCgpIHsKICAgICAgdmFyIHRkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTsKICAgICAgaWYgKG51bSA8PSAxNSkgewogICAgICAgIHZhciBiID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7CiAgICAgICAgYi5jbGFzc05hbWUgPSAnYW5zQnRuJzsKICAgICAgICBiLnRleHRDb250ZW50ID0gbnVtOwogICAgICAgIGIuZGF0YXNldC52YWwgPSBudW07CiAgICAgICAgKGZ1bmN0aW9uIChuKSB7CiAgICAgICAgICBiLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkgewogICAgICAgICAgICBvbkFuc3dlcihzaWRlLCBuLCBiKTsKICAgICAgICAgIH0pOwogICAgICAgIH0pKG51bSk7CiAgICAgICAgdGQuYXBwZW5kQ2hpbGQoYik7CiAgICAgICAgbnVtKys7CiAgICAgIH0KICAgICAgdHIuYXBwZW5kQ2hpbGQodGQpOwogICAgfTsKICAgIGZvciAodmFyIGNvbCA9IDA7IGNvbCA8IDU7IGNvbCsrKSB7CiAgICAgIF9sb29wKCk7CiAgICB9CiAgICB0YWJsZS5hcHBlbmRDaGlsZCh0cik7CiAgfQogIGNvbnRhaW5lci5hcHBlbmRDaGlsZCh0YWJsZSk7Cn0KbWFrZUJ1dHRvbnMoYnV0dG9uc0wsICdMJyk7Cm1ha2VCdXR0b25zKGJ1dHRvbnNSLCAnUicpOwpmdW5jdGlvbiBvbkFuc3dlcihzaWRlLCB2YWwsIGJ0bikgewogIGlmICghd2FpdGluZykgcmV0dXJuOwogIC8vIDLkurrjgYzlkIzmmYLjgavmirzjgZvjgovjgojjgYbjgavlkIToh6rjga7mnIDliJ3jga7mirzkuIvjgpLoqJjpjLIKICBpZiAoYW5zd2Vyc1tzaWRlXSAhPT0gbnVsbCkgcmV0dXJuOyAvLyDkuozlm57nm67jga/nhKHoppYKICBhbnN3ZXJzW3NpZGVdID0gdmFsOwogIHRpbWVzdGFtcHNbc2lkZV0gPSBwZXJmb3JtYW5jZS5ub3coKTsKCiAgLy8g6KaL44Gf55uu44OV44Kj44O844OJ44OQ44OD44KvCiAgYnRuLnN0eWxlLmJveFNoYWRvdyA9ICcwIDNweCA4cHggcmdiYSgwLDAsMCwwLjYpIGluc2V0JzsKICBpZiAodmFsID09PSBjb3JyZWN0QW5zd2VyKSB7CiAgICBidG4uc3R5bGUuYm9yZGVyID0gJzNweCBzb2xpZCB2YXIoLS1vayknOwogIH0gZWxzZSB7CiAgICBidG4uc3R5bGUuYm9yZGVyID0gJzNweCBzb2xpZCB2YXIoLS1iYWQpJzsKICB9CiAgY2hlY2tSb3VuZEVuZCgpOwp9CmZ1bmN0aW9uIGNoZWNrUm91bmRFbmQoKSB7CiAgLy8g5Lih6ICF44GM5Zue562U44GX44Gf44GL44CB54mH5pa55q2j6Kej44Gn55u45omL44GM5oq844GZ5YmN44Gr5q2j6Kej56K65a6a77yI5pep5oq844GX77yJCiAgdmFyIEwgPSBhbnN3ZXJzLkwsCiAgICBSID0gYW5zd2Vycy5SOwogIC8vIOeJh+aWueOBjOato+ino+OBp+S7luOBjOOBvuOBoOacquWbnuetlCAtPiDnm7jmiYvjgavmnIDlvozjgb7jgaflvoXjgZ/jgZvjgZ/jgY/jgarjgYTjga7jgafnn63mmYLplpPjgafntYLkuoYKICBpZiAoTCA9PT0gY29ycmVjdEFuc3dlciAmJiBSID09PSBudWxsIHx8IFIgPT09IGNvcnJlY3RBbnN3ZXIgJiYgTCA9PT0gbnVsbCkgewogICAgLy8g5bCP44GV44Gq54y25LqI44Gn5rG6552A77yIMjAwbXPvvIkKICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICBmaW5hbGl6ZVJvdW5kKCk7CiAgICB9LCAyMDApOwogICAgcmV0dXJuOwogIH0KICBpZiAoTCAhPT0gbnVsbCAmJiBSICE9PSBudWxsKSB7CiAgICBmaW5hbGl6ZVJvdW5kKCk7CiAgfQp9CmZ1bmN0aW9uIGZpbmFsaXplUm91bmQoKSB7CiAgaWYgKCF3YWl0aW5nKSByZXR1cm47CiAgd2FpdGluZyA9IGZhbHNlOwogIC8vIOWIpOWumgogIHZhciBMdmFsID0gYW5zd2Vycy5MLAogICAgUnZhbCA9IGFuc3dlcnMuUjsKICB2YXIgd2lubmVyU2lkZSA9IG51bGw7CiAgaWYgKEx2YWwgPT09IGNvcnJlY3RBbnN3ZXIgJiYgUnZhbCA9PT0gY29ycmVjdEFuc3dlcikgewogICAgLy8g5Lih5pa55q2j6KejIC0+IOmAn+OBhOaWuQogICAgd2lubmVyU2lkZSA9IHRpbWVzdGFtcHMuTCA8IHRpbWVzdGFtcHMuUiA/ICdMJyA6IHRpbWVzdGFtcHMuUiA8IHRpbWVzdGFtcHMuTCA/ICdSJyA6IG51bGw7CiAgfSBlbHNlIGlmIChMdmFsID09PSBjb3JyZWN0QW5zd2VyKSB7CiAgICB3aW5uZXJTaWRlID0gJ0wnOwogIH0gZWxzZSBpZiAoUnZhbCA9PT0gY29ycmVjdEFuc3dlcikgewogICAgd2lubmVyU2lkZSA9ICdSJzsKICB9CiAgaWYgKHdpbm5lclNpZGUpIHsKICAgIHNjb3JlW3dpbm5lclNpZGVdKys7CiAgICBzY29yZUwudGV4dENvbnRlbnQgPSBzY29yZS5MOwogICAgc2NvcmVSLnRleHRDb250ZW50ID0gc2NvcmUuUjsKICAgIHN0YXR1cy50ZXh0Q29udGVudCA9ICh3aW5uZXJTaWRlID09PSAnTCcgPyAn5bemJyA6ICflj7MnKSArICfjga7li53jgaHvvIEg5q2j6KejOiAnICsgY29ycmVjdEFuc3dlcjsKICB9IGVsc2UgewogICAgc3RhdHVzLnRleHRDb250ZW50ID0gJ+ato+ino+OBquOBl+OAgiDmraPop6M6ICcgKyBjb3JyZWN0QW5zd2VyOwogIH0KICBjdXJyZW50Kys7CiAgcHJvZ3Jlc3MudGV4dENvbnRlbnQgPSAiIi5jb25jYXQoY3VycmVudCwgIiAvICIpLmNvbmNhdCh0b3RhbFByb2JsZW1zKTsKCiAgLy8g5qyh44Gu5ZWP6aGM44G45bCR44GX5b6F44Gj44Gm44GL44KJ56e76KGMCiAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICByZXNldEJ1dHRvbnNWaXN1YWwoKTsKICAgIGlmIChjdXJyZW50ID49IHRvdGFsUHJvYmxlbXMpIHsKICAgICAgc2hvd0ZpbmFsUmVzdWx0KCk7CiAgICB9IGVsc2UgewogICAgICBuZXh0UXVlc3Rpb24oKTsKICAgIH0KICB9LCA0MDApOwp9CmZ1bmN0aW9uIHJlc2V0QnV0dG9uc1Zpc3VhbCgpIHsKICBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hbnNCdG4nKSkuZm9yRWFjaChmdW5jdGlvbiAoYikgewogICAgYi5zdHlsZS5ib3JkZXIgPSAnJzsKICAgIGIuc3R5bGUuYm94U2hhZG93ID0gJyc7CiAgfSk7Cn0KZnVuY3Rpb24gc2hvd0ZpbmFsUmVzdWx0KCkgewogIHZhciB0ZXh0ID0gJyc7CiAgaWYgKHNjb3JlLkwgPiBzY29yZS5SKSB0ZXh0ID0gJ+OBsuOBoOOCiuOBriDjgYvjgaHvvIEgJyArIHNjb3JlLkwgKyAnIDogJyArIHNjb3JlLlI7ZWxzZSBpZiAoc2NvcmUuUiA+IHNjb3JlLkwpIHRleHQgPSAn44G/44GO44GuIOOBi+OBoe+8gSAnICsgc2NvcmUuUiArICcgOiAnICsgc2NvcmUuTDtlbHNlIHRleHQgPSAn44Gy44GN44KP44GRICcgKyBzY29yZS5MICsgJyA6ICcgKyBzY29yZS5SOwogIHdpbm5lclRleHQudGV4dENvbnRlbnQgPSB0ZXh0OwogIHdpbm5lci5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTsKICBzdGF0dXMudGV4dENvbnRlbnQgPSAn44Ky44O844Og57WC5LqGJzsKfQpmdW5jdGlvbiBuZXh0UXVlc3Rpb24oKSB7CiAgYW5zd2VycyA9IHsKICAgIEw6IG51bGwsCiAgICBSOiBudWxsCiAgfTsKICB0aW1lc3RhbXBzID0gewogICAgTDogMCwKICAgIFI6IDAKICB9OwogIGNvcnJlY3RBbnN3ZXIgPSBudWxsOwogIHdhaXRpbmcgPSB0cnVlOwogIC8vIOWVj+mhjOS9nOaIkAogIHZhciBxID0gbWFrZVByb2JsZW0oKTsKICBjb3JyZWN0QW5zd2VyID0gcS5hbnN3ZXI7CiAgcXVlc3Rpb25FbC50ZXh0Q29udGVudCA9IHEudGV4dDsKICBxdWVzdGlvbk1pcnJvci50ZXh0Q29udGVudCA9IHEudGV4dDsgLy8g5Lih5YG044Gr5ZCM44GY5ZWP6aGMCiAgc3RhdHVzLnRleHRDb250ZW50ID0gJ+ino+etlOOCkuaKvOOBl+OBpuOBj+OBoOOBleOBhO+8gSc7CiAgcHJvZ3Jlc3MudGV4dENvbnRlbnQgPSAiIi5jb25jYXQoY3VycmVudCArIDEsICIgLyAiKS5jb25jYXQodG90YWxQcm9ibGVtcyk7Cn0KZnVuY3Rpb24gbWFrZVByb2JsZW0oKSB7CiAgLy8g5LiA5qGB44Gu6Laz44GX566X44GL5byV44GN566X77yIMC0577yJ44KS44Op44Oz44OA44Og44Gr5L2c44KL44CC44Gf44Gg44GX562U44GI44GMMS4uMTXjgavlhaXjgovjgojjgYbjgavjg5XjgqPjg6vjgr8KICB3aGlsZSAodHJ1ZSkgewogICAgdmFyIGEgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMCk7IC8vIDAuLjkKICAgIHZhciBiID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTApOwogICAgdmFyIG9wID0gTWF0aC5yYW5kb20oKSA8IDAuNSA/ICcrJyA6ICctJzsKICAgIHZhciBhbnMgPSBvcCA9PT0gJysnID8gYSArIGIgOiBhIC0gYjsKICAgIGlmIChhbnMgPj0gMSAmJiBhbnMgPD0gMTUpIHsKICAgICAgdmFyIHRleHQgPSAiIi5jb25jYXQoYSwgIiAiKS5jb25jYXQob3AsICIgIikuY29uY2F0KGIsICIgPSA/Iik7CiAgICAgIHJldHVybiB7CiAgICAgICAgdGV4dDogdGV4dCwKICAgICAgICBhbnN3ZXI6IGFucwogICAgICB9OwogICAgfQogICAgLy8gZWxzZSDlho3oqabooYwKICB9Cn0KZnVuY3Rpb24gc3RhcnRHYW1lKHByb2JsZW1zKSB7CiAgdG90YWxQcm9ibGVtcyA9IHByb2JsZW1zOwogIGN1cnJlbnQgPSAwOwogIHNjb3JlID0gewogICAgTDogMCwKICAgIFI6IDAKICB9OwogIHNjb3JlTC50ZXh0Q29udGVudCA9ICcwJzsKICBzY29yZVIudGV4dENvbnRlbnQgPSAnMCc7CiAgcHJvZ3Jlc3MudGV4dENvbnRlbnQgPSAiMCAvICIuY29uY2F0KHRvdGFsUHJvYmxlbXMpOwogIHN0YXR1cy50ZXh0Q29udGVudCA9ICfjgrnjgr/jg7zjg4jvvIEnOwogIHdpbm5lci5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTsKICAvLyDmnIDliJ3jga7llY/poYzjgpLjgZnjgZDlh7rjgZkKICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgIG5leHRRdWVzdGlvbigpOwogIH0sIDQwMCk7Cn0KCi8vIOOCsuODvOODoOe1guS6huaZguOBq+ODquOCu+ODg+ODiOODnOOCv+ODs+OCkuacieWKueOBq+OBmeOCi+OBn+OCgeOAgXdpbm5lcuOCr+ODquODg+OCr+OBp+mWieOBmOOCiwp3aW5uZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7CiAgd2lubmVyLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpOwogIHNob3dTdGFydERpYWxvZygpOwp9KTsKCi8vIOOCv+ODg+ODgeaZguOBq+aXqeOBj+WPjeW/nOOBmeOCi+OBn+OCgeOBruioreWumu+8iOS4jeimgeOBi+OCguOBl+OCjOOBquOBhOOBjOWGl+mVt+mYsuatou+8iQpkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgZnVuY3Rpb24gKCkge30sIHsKICBwYXNzaXZlOiB0cnVlCn0pOwoKLy8g5Yid5pyfVUkKcHJvZ3Jlc3MudGV4dENvbnRlbnQgPSAiMCAvICIuY29uY2F0KHRvdGFsUHJvYmxlbXMpOwpzdGF0dXMudGV4dENvbnRlbnQgPSAn5rqW5YKZ5a6M5LqGID8g44K544K/44O844OI44KS5oq844GX44Gm44GP44Gg44GV44GEJzsKCi8vIOWIneacn+ODgOOCpOOCouODreOCsOOBruWItuW+oQpmdW5jdGlvbiBzaG93U3RhcnREaWFsb2coKSB7CiAgc3RhcnREaWFsb2cuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7Cn0KZnVuY3Rpb24gaGlkZVN0YXJ0RGlhbG9nKCkgewogIHN0YXJ0RGlhbG9nLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpOwp9CmZ1bmN0aW9uIHNob3dDb3VudERvd25EaWFsb2coKSB7CiAgY291bnREb3duLnRleHRDb250ZW50ID0gJzMnOyAvLyDliJ3mnJ/lgKQKICBjb3VudERvd25EaWFsb2cuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7Cn0KZnVuY3Rpb24gaGlkZUNvdW50RG93bkRpYWxvZygpIHsKICBjb3VudERvd25EaWFsb2cuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7Cn0KZnVuY3Rpb24gc3RhcnRDb3VudERvd24ocHJvYmxlbXMpIHsKICBzaG93Q291bnREb3duRGlhbG9nKCk7CiAgdmFyIGNvdW50ID0gMjsKICB2YXIgX2NvdW50RG93bkNhbGxiYWNrID0gZnVuY3Rpb24gY291bnREb3duQ2FsbGJhY2soKSB7CiAgICBpZiAoY291bnQgPiAwKSB7CiAgICAgIHN0YXR1cy50ZXh0Q29udGVudCA9ICJcdTMwQjJcdTMwRkNcdTMwRTBcdTk1OEJcdTU5Q0JcdTMwN0VcdTMwNjcgIi5jb25jYXQoY291bnQsICIuLi4iKTsKICAgICAgY291bnREb3duLnRleHRDb250ZW50ID0gIiIuY29uY2F0KGNvdW50KTsKICAgICAgY291bnQtLTsKICAgICAgc2V0VGltZW91dChfY291bnREb3duQ2FsbGJhY2ssIDEwMDApOwogICAgfSBlbHNlIHsKICAgICAgc3RhdHVzLnRleHRDb250ZW50ID0gIlx1MzBCOVx1MzBCRlx1MzBGQ1x1MzBDOCI7CiAgICAgIGNvdW50RG93bi50ZXh0Q29udGVudCA9ICJcdTMwQjlcdTMwQkZcdTMwRkNcdTMwQzgiOwogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBzdGF0dXMudGV4dENvbnRlbnQgPSAn6Kej562U44KS5oq844GX44Gm44GP44Gg44GV44GE77yBJzsKICAgICAgICBoaWRlQ291bnREb3duRGlhbG9nKCk7CiAgICAgICAgc3RhcnRHYW1lKHByb2JsZW1zKTsKICAgICAgfSwgMTAwMCk7CiAgICB9CiAgfTsKICBzZXRUaW1lb3V0KF9jb3VudERvd25DYWxsYmFjaywgMTAwMCk7Cn0KLy8g44Ky44O844Og6ZaL5aeL5pmC44Gu44OA44Kk44Ki44Ot44Kw44GL44KJ5YCk44KS5Y+N5pigCmRpYWxvZ1N0YXJ0QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkgewogIHZhciB2YWwgPSBOdW1iZXIoZGlhbG9nUHJvYmxlbXMudmFsdWUpIHx8IDEwOwogIGhpZGVTdGFydERpYWxvZygpOwogIHN0YXJ0Q291bnREb3duKHZhbCk7Cn0pOwovLyDjgrvjg6zjgq/jg4jjg5zjg4Pjgq/jgrnjga7pgbjmip7ogqLjgpLnlJ/miJAKZm9yICh2YXIgaSA9IDE7IGkgPD0gNDA7IGkrKykgewogIHZhciBvcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTsKICBvcHQudmFsdWUgPSBpOwogIG9wdC50ZXh0Q29udGVudCA9IGk7CiAgaWYgKGkgPT09IDEwKSBvcHQuc2VsZWN0ZWQgPSB0cnVlOwogIGRpYWxvZ1Byb2JsZW1zLmFwcGVuZENoaWxkKG9wdCk7Cn0KLy8g44Oa44O844K444Ot44O844OJ5pmC44Gr44OA44Kk44Ki44Ot44Kw6KGo56S6CnNob3dTdGFydERpYWxvZygpOwogIDwvc2NyaXB0Pgo8L2JvZHk+CjwvaHRtbD4K)
